<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SmartSpend AI</title>

    <!-- REQUIRED -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
<nav class="navbar">
    <div class="nav-left">
        <span class="brand">SmartSpend AI</span>
    </div>

<div class="nav-right">

    <!-- SIGN IN -->
    <button class="signin-btn" id="signinBtn">Sign In</button>

    <!-- PROFILE (HIDDEN BY DEFAULT) -->
    <div class="profile-wrapper hidden" id="profileWrapper">
        <button class="profile-btn" id="profileToggle">
            <img id="avatarPreview" src="/static/IMAGES/person_12259248.png">
        </button>

        <div class="profile-dropdown hidden" id="profileDropdown">
            <div class="dropdown-header">
                <strong id="navName">User</strong>
            </div>
            <a href="/profile">Your Profile</a>
            <a href="#" id="logoutBtn">Sign Out</a>
        </div>
    </div>

</div>
</nav>



<div class="landing">

    <!-- HERO -->
    <div class="hero">
        <h1>SmartSpend AI</h1>
        <p>
            Intelligent financial insights powered by data science.<br>
            Track behavior, predict future spending, and build better habits.
        </p>

        <form method="POST" action="/upload" enctype="multipart/form-data" id="uploadForm">
         <input type="file" name="file" id="fileInput" required>
         <button type="submit" id="analyzeBtn">Analyze Spending</button>
       </form>


        <!-- CORE FEATURES -->
        <div class="features">
            <div>
                <strong>ðŸ“Š AI Analytics</strong><br>
                Behavioral insights from real transaction data
            </div>
            <div>
                <strong>ðŸ“ˆ Predictive Models</strong><br>
                Forecast future expenses using regression
            </div>
            <div>
                <strong>ðŸš¨ Risk Detection</strong><br>
                Identify anomalies & unusual spending
            </div>
        </div>
 
    </div>

    <!-- FOOTER -->
    <footer>
                 <!-- INFO SECTION -->
    <section class="info-section">
        <div class="info-card">
            <h3>Why SmartSpend?</h3>
            <p>
                Most people track spending â€” few understand it.
                SmartSpend AI transforms raw transactions into
                meaningful financial intelligence.
            </p>
        </div>

        <div class="info-card">
            <h3>What It Does</h3>
            <p>
                Using machine learning, SmartSpend detects patterns,
                categorizes expenses, predicts trends, and highlights
                potential financial risks before they become problems.
            </p>
        </div>

        <div class="info-card">
            <h3>Who Itâ€™s For</h3>
            <p>
                Students, professionals, and anyone who wants
                clarity, control, and smarter financial decisions
                without complex tools.
            </p>
        </div>
    </section>
        <div class="footer-top">
            <span>SmartSpend AI Â© 2026</span>
            <span>Built with Data Science & Machine Learning</span>
        </div>

        <div class="footer-links">
            <span>MIT License</span>
            <span>Apache 2.0 Components</span>
            <span>OpenAI-Compatible Architecture</span>
            <span>Academic & Educational Use Approved</span>
        </div>

        <div class="footer-bottom">
            This project is a demonstration platform for responsible financial analytics.
            No personal data is stored without user consent.
        </div>
    </footer>

</div>
<div class="auth-overlay hidden" id="authOverlay">

    <div class="auth-card">

        <!-- CLOSE BUTTON -->
        <button class="auth-close" id="authClose">âœ•</button>

        <h2 id="authTitle">Sign In</h2>

        <form id="authForm">

            <input
                type="text"
                id="authName"
                placeholder="Full Name"
                class="auth-input hidden"
            >

            <input
                type="email"
                id="authEmail"
                placeholder="Email address"
                class="auth-input"
                required
            >

            <input
                type="password"
                id="authPassword"
                placeholder="Password"
                class="auth-input"
                required
            >

            <button type="submit" class="auth-submit">
                Continue
            </button>

        </form>

        <div class="auth-switch">
            <span id="authSwitchText">Donâ€™t have an account?</span>
            <a href="#" id="authSwitchLink">Register</a>
        </div>

    </div>
</div>
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
<script>
const signinBtn = document.getElementById("signinBtn");
const authOverlay = document.getElementById("authOverlay");
const authClose = document.getElementById("authClose");
const authForm = document.getElementById("authForm");
const authTitle = document.getElementById("authTitle");
const authName = document.getElementById("authName");
const authSwitchText = document.getElementById("authSwitchText");
const authSwitchLink = document.getElementById("authSwitchLink");

let isRegister = false;

if (signinBtn) {
    signinBtn.onclick = () => authOverlay.classList.remove("hidden");
}

authClose.onclick = () => authOverlay.classList.add("hidden");

authSwitchLink.onclick = e => {
    e.preventDefault();
    isRegister = !isRegister;
    authTitle.textContent = isRegister ? "Register" : "Sign In";
    authName.classList.toggle("hidden", !isRegister);
    authSwitchText.textContent = isRegister
        ? "Already have an account?"
        : "Donâ€™t have an account?";

    authSwitchLink.textContent = isRegister
        ? "Sign In"
        : "Register";
};

authForm.onsubmit = e => {
    e.preventDefault();

    const profile = {
        name: authName.value || "User",
        email: authEmail.value
    };

    localStorage.setItem("profile", JSON.stringify(profile));
    localStorage.setItem("loggedIn", "true");

    authOverlay.classList.add("hidden");
    window.location.reload();
};


/* ------------------
   AUTH GUARD (UPLOAD)
------------------ */
const uploadForm = document.getElementById("uploadForm");
const fileInput = document.getElementById("fileInput");
const analyzeBtn = document.getElementById("analyzeBtn");

function isLoggedIn() {
    return localStorage.getItem("loggedIn") === "true";
}

/* CLICK FILE INPUT */
fileInput.addEventListener("click", (e) => {
    if (!isLoggedIn()) {
        e.preventDefault();
        authOverlay.classList.remove("hidden");
    }
});

/* CLICK ANALYZE */
uploadForm.addEventListener("submit", (e) => {
    if (!isLoggedIn()) {
        e.preventDefault();
        authOverlay.classList.remove("hidden");
    }
});
</script>
</body>
</html>
